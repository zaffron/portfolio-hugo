<section class="section py-20" id="qualifications">
  <h2
    class="text-4xl font-bold text-center mb-2 text-gray-900 dark:text-gray-100"
  >
    Qualification
  </h2>
  <span class="block text-center text-gray-600 dark:text-gray-400 mb-12"
    >My Personal Journey</span
  >

  <div class="container mx-auto px-6">
    <div class="max-w-4xl mx-auto">
      <!-- Tabs -->
      <div class="flex justify-center gap-8 mb-12">
        <button
          onclick="showTab('work')"
          id="work-tab"
          class="flex items-center gap-2 text-lg font-semibold pb-2 border-b-2 border-[#6b63ff] text-[#6b63ff] transition-colors"
        >
          {{ partial "svgs/work.html" . }}
          Work
        </button>
        <button
          onclick="showTab('education')"
          id="education-tab"
          class="flex items-center gap-2 text-lg font-semibold pb-2 border-b-2 border-transparent text-gray-600 dark:text-gray-400 hover:text-[#6b63ff] transition-colors"
        >
          {{ partial "svgs/education.html" . }}
          Education
        </button>
      </div>

      <!-- Work Experience -->
      <div id="work-content" class="tab-content">
        <div class="space-y-8">
          {{ range $index, $item := $.Site.Data.qualifications.work }}
            <div
              class="grid md:grid-cols-[1fr_max-content_1fr] gap-0 items-start !m-0 min-h-[130px] relative"
            >
              {{ if modBool $index 2 }}
                <div></div>

                <div
                  class="flex flex-col items-center self-stretch absolute md:static bottom-0 left-[50%]"
                >
                  <div class="w-4 h-4 bg-[#6b63ff] rounded-full shrink-0"></div>

                  {{ if ne (add $index 1) (len $.Site.Data.qualifications.work) }}
                    <div class="hidden md:block w-1 flex-1 bg-[#6b63ff]"></div>
                  {{ end }}
                </div>
              {{ end }}


              <div
                class="{{ if modBool $index 2 }}
                  md:text-left md:ml-8 md:block flex flex-col justify-center
                  align-center text-center my-4 py-4 md:py-0 md:mr-0
                {{ else }}
                  md:text-right md:mr-8 md:block flex flex-col justify-center
                  align-center text-center my-4 py-4 md:py-0 md:ml-0
                {{ end }}"
              >
                <h3
                  class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100"
                >
                  {{ .title }}
                </h3>
                <p class="text-gray-600 dark:text-gray-300 mb-2">
                  {{ .subtitle }}
                </p>
                <div class="flex flex-row justify-center md:block">
                  <div
                    class="flex items-center gap-2 {{ if modBool $index 2 }}
                    {{ else }}
                      md:justify-end
                    {{ end }} text-sm text-gray-500"
                  >
                    <svg
                      class="w-4 h-4"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                      />
                    </svg>
                    <span>{{ .time }}</span>
                  </div>
                </div>
              </div>

              {{ if not (modBool $index 2) }}
                <div
                  class="flex flex-col items-center self-stretch absolute md:static bottom-0 left-[50%]"
                >
                  <div class="w-4 h-4 bg-[#6b63ff] rounded-full shrink-0"></div>
                  {{ if ne (add $index 1) (len $.Site.Data.qualifications.work) }}
                    <div class="hidden md:block w-1 flex-1 bg-[#6b63ff]"></div>
                  {{ end }}
                </div>
                <div></div>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>

      <!-- Education -->
      <div id="education-content" class="tab-content hidden">
        <div class="space-y-8">
          {{ range $index, $item := $.Site.Data.qualifications.education }}
            <div
              class="grid md:grid-cols-[1fr_max-content_1fr] gap-0 items-start !m-0 min-h-[130px] relative"
            >
              {{ if modBool $index 2 }}
                <div></div>
                <div
                  class="flex flex-col items-center self-stretch absolute md:static bottom-0 left-[50%]"
                >
                  <div class="w-4 h-4 bg-[#6b63ff] rounded-full shrink-0"></div>
                  {{ if ne (add $index 1) (len $.Site.Data.qualifications.education) }}
                    <div class="hidden md:block w-1 flex-1 bg-[#6b63ff]"></div>
                  {{ end }}
                </div>
              {{ end }}


              <div
                class="{{ if modBool $index 2 }}
                  md:text-left md:ml-8 md:block flex flex-col justify-center
                  align-center text-center my-4 py-4 md:py-0 md:my-0 md:mr-0
                {{ else }}
                  md:text-right md:mr-8 md:block flex flex-col justify-center
                  align-center text-center my-4 py-4 md:py-0 md:my-0 md:ml-0
                {{ end }}"
              >
                <h3
                  class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100"
                >
                  {{ .title }}
                </h3>
                <p class="text-gray-600 dark:text-gray-300 mb-2">
                  {{ .subtitle }}
                </p>
                <div class="flex flex-row justify-center md:block">
                  <div
                    class="flex items-center gap-2 {{ if modBool $index 2 }}
                    {{ else }}
                      md:justify-end
                    {{ end }} text-sm text-gray-500"
                  >
                    {{ partial "svgs/calendar.html" . }}
                    <span>{{ .time }}</span>
                  </div>
                </div>
              </div>

              {{ if not (modBool $index 2) }}
                <div
                  class="flex flex-col items-center self-stretch absolute md:static bottom-0 left-[50%]"
                >
                  <div class="w-4 h-4 bg-[#6b63ff] rounded-full shrink-0"></div>
                  {{ if ne (add $index 1) (len $.Site.Data.qualifications.education) }}
                    <div class="hidden md:block w-1 flex-1 bg-[#6b63ff]"></div>
                  {{ end }}
                </div>
                <div></div>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  function showTab(tabName) {
    // Hide all tabs
    document.querySelectorAll(".tab-content").forEach((content) => {
      content.classList.add("hidden");
    });

    // Remove active state from all buttons
    document.querySelectorAll('[id$="-tab"]').forEach((button) => {
      button.classList.remove("border-[#6b63ff]", "text-[#6b63ff]");
      button.classList.add("border-transparent");
      // Check if dark mode is active
      if (document.documentElement.classList.contains("dark")) {
        button.classList.add("text-gray-400");
      } else {
        button.classList.add("text-gray-600");
      }
    });

    // Show selected tab
    document.getElementById(tabName + "-content").classList.remove("hidden");

    // Add active state to selected button
    const activeButton = document.getElementById(tabName + "-tab");
    activeButton.classList.add("border-[#6b63ff]", "text-[#6b63ff]");
    activeButton.classList.remove(
      "border-transparent",
      "text-gray-600",
      "text-gray-400",
    );
  }
</script>
